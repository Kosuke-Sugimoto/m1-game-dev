# Chapter13
## フリップブックの切り替え処理
ブループリントで組む
1. ブループリントを開く
2. 「コンポーネント」 -> 「Sprite」を選択
3. 右の「詳細」 -> 「スプライト」 -> 「Source Flipbook」に静止フリップブックをセット

これを起点に、以下で歩きとジャンプの分岐処理をブループリントで作成する

### UpdateAnimation
新規に関数を作成する
1. 「関数」右の「+」をクリック
2. 「UpdateAnimation」にする（何でもよいが...）
3. 関数内で右クリック -> 「Set Flipbook」ノードを呼び出す
   - フリップブックを差し替えるためのノード
   - 「New Flipbook」を押すと、差し替えたいフリップブックを選択できる
4. 3つに複製する（歩き、ジャンプ、静止用）
5. それぞれの「New Flipbook」を適切なフリップブックにする
6. ブランチを2つ作成する
   - `B` + `左クリック` で作成できる
   - `if文`のようなもの
7. 関数内で右クリック -> 「Is Falling」ノードを呼び出す
   - キャラクターが空中にいるかどうかの判別用
8. 「Is Falling」の赤ピンを1つ目のブランチ赤ピンにつなげる
9. 「Get Velocity」ノードを呼び出す
    - 速度を取得する用
10. 「Return Value」を右クリック -> 「構造体ピンを分割」
11. 「Return Value X」を右にドラッグ -> 「Not Equal」を選択
12. 「Not Equal」の赤ピンを2つ目の赤ピンに繋げる


### イベントグラフ
1. イベントグラフに移り、右クリック -> 「Event Tick」を呼び出す
2. 作成した `UpdateAnimation` をドラッグしてつなげる
3. アニメーションが出来ているか確認

### Event Tick / Paper ZD
`Event Tick` は、常にイベントを走らせるものであり、負荷対策として使わないのが一般的。

外部プラグインとして、`Paper ZD` というものがある。2D用「AnimationBlueprint」という役割。Unreal Engine公式も推奨。
